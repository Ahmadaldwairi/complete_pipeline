# =============================================================================
# Brain Service Configuration
# =============================================================================
# Copy this file to .env and customize for your environment

# -----------------------------------------------------------------------------
# Decision Engine Thresholds
# -----------------------------------------------------------------------------

# Minimum confidence score (0-100) required for non-copytrade decisions
MIN_DECISION_CONF=75

# Minimum confidence score (0-100) required for copytrade decisions
MIN_COPYTRADE_CONFIDENCE=70

# Minimum follow-through score (0-100) to proceed with trade
MIN_FOLLOW_THROUGH_SCORE=55

# -----------------------------------------------------------------------------
# Validation Parameters
# -----------------------------------------------------------------------------

# Multiplier for fee estimation (actual fees typically 2.2x base estimate)
FEE_MULTIPLIER=2.2

# Maximum impact as fraction of take-profit target (0.45 = 45%)
IMPACT_CAP_MULTIPLIER=0.45

# Minimum liquidity required in USD
MIN_LIQUIDITY_USD=5000.0

# Maximum slippage tolerance as fraction (0.15 = 15%)
MAX_SLIPPAGE=0.15

# -----------------------------------------------------------------------------
# Guardrails
# -----------------------------------------------------------------------------

# Maximum concurrent positions allowed
MAX_CONCURRENT_POSITIONS=3

# Maximum positions from advisor/copytrade source
MAX_ADVISOR_POSITIONS=2

# Rate limit for general decisions (milliseconds between decisions)
RATE_LIMIT_MS=100

# Rate limit for advisor decisions (milliseconds)
ADVISOR_RATE_LIMIT_MS=30000

# Loss backoff: consecutive losses before pause
LOSS_BACKOFF_THRESHOLD=3

# Loss backoff: time window to track losses (seconds)
LOSS_BACKOFF_WINDOW_SECS=180

# Loss backoff: pause duration after threshold hit (seconds)
LOSS_BACKOFF_PAUSE_SECS=120

# Wallet cooling: minimum time between copytrading same wallet (seconds)
WALLET_COOLING_SECS=90

# -----------------------------------------------------------------------------
# Database Connections
# -----------------------------------------------------------------------------

# PostgreSQL connection for WalletTracker (wallet performance tracking)
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_USER=trader
POSTGRES_PASSWORD=your_secure_password_here
POSTGRES_DB=wallet_tracker

# SQLite connection for LaunchTracker (token launch data)
SQLITE_PATH=./data/launch_tracker.db

# -----------------------------------------------------------------------------
# UDP Communication
# -----------------------------------------------------------------------------

# Port to receive advice messages from RankBot/AdvisorBot
ADVICE_BUS_PORT=45100

# Port to send trade decisions to ExecutionBot
DECISION_BUS_PORT=45110

# UDP bind address (localhost for same-machine communication)
UDP_BIND_ADDRESS=127.0.0.1

# -----------------------------------------------------------------------------
# Logging
# -----------------------------------------------------------------------------

# Path to decision log CSV file
DECISION_LOG_PATH=./data/brain_decisions.csv

# Log level: error, warn, info, debug, trace
LOG_LEVEL=info

# -----------------------------------------------------------------------------
# Feature Cache Settings
# -----------------------------------------------------------------------------

# Mint cache capacity (number of tokens to track)
MINT_CACHE_CAPACITY=10000

# Wallet cache capacity (number of wallets to track)
WALLET_CACHE_CAPACITY=5000

# Cache refresh interval (seconds) - how often to pull from databases
CACHE_REFRESH_INTERVAL_SECS=30

# -----------------------------------------------------------------------------
# Performance Tuning
# -----------------------------------------------------------------------------

# Number of worker threads for async runtime (0 = auto-detect cores)
WORKER_THREADS=0

# UDP receive buffer size (bytes)
UDP_RECV_BUFFER_SIZE=8192

# UDP send buffer size (bytes)
UDP_SEND_BUFFER_SIZE=8192
